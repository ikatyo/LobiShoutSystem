# LobiShoutSystem
Lobiにサーバの起動・停止情報を自動投稿  
GitHubにもコードを置いておくことにしました。  
更新？たまーにします(おい)  

# 更新履歴
2017/10/24 MCBEv1.2対応作業済  

# 機能
このプラグインは下記の機能があります  
サーバ起動・停止時に自動投稿  
/Whitelist on,off実行時に自動投稿  
/lobi 任意の文  
で指定グループに投稿する機能  

# 設定方法  
*logintype*  
自分のログインタイプに応じてmailもしくはtwitterと入力してください。  
* メールアドレスの方は「mail」と入力  
* Twitterの方は「twitter」と入力  
これ以外のを入力するとエラーが発生します。  
  
*mail*  
LobiまたはTwitterにログインする際のメールアドレスを入力してください  
  
*pass*  
LobiまたはTwitterにログインする際のパスワードを入力してください。  
  
*g_id*  
投稿したいグループのIDを入力してください。  
グループIDは/group/の後にあるのがグループIDとなります。  
https://web.lobi.co/game/minecraftpe/group/*********************  
*がグループIDです。  
  
*swich*  
trueの場合シャウトありで投稿されます  
falseの場合シャウトなしで投稿されます  
初期設定ではfalseとなっています。  
  
# メッセージ表示について
infoには[ ]内の内容を変えることが出来ます。  
run_messageは起動時のメッセージをカスタマイズできます  
stop_messageは停止時のメッセージをカスタマイズできます  
初期では  
[ServerINFO]サーバを起動しました  
[ServerINFO]サーバを停止しました  
と投稿されます。  
whitelist_onMessageは/whitelist on実行時にLobiに投稿されるメッセージをカスタマイズ出来ます  
whitelist_offMessage/whitelist off実行時に投稿されるメッセージをカスタマイズ出来ます  

# よくある質問
*「入力形式が不正です」と表示された場合*  
このエラーはlogintupeが「mail」もしくは「twitter」以外のものが入力されていると発生します。  
・よくあるミス  
* 全角入力されている  
* Twitter認証の場合「twitter」ではなく「Twitter」と入力されている可能性  
  
*ログイン成功と出ているのにも関わらず投稿されない場合(Twitter認証)*  
この問題は開発段階で見つかりました。  
どうやらLobiAPIを通してログインをすると電話番号を登録している方に限って発生するようです。  
電話番号を登録していない場合は通常通りログインできる様です。  
・回避策  
サーバを開いているPCでブラウザを開き、Twitterへログインしようとすると電話番号認証を求められるのでそのページに従い認証を行うと回避出来るようです。  
又は、電話番号の設定を削除してしまう方法もありますが、あまりお勧めできません。  
やむを得ない場合以外は上記の手順で回避して下さい。  
  
*ログイン成功と出ているのにも関わらず投稿されない場合(共通)*  
グループIDが間違っていないか確認してください。  
また、投稿したいグループに投稿に用いるアカウントが参加しているかどうか確認してください。  

*「ログイン失敗」と表示された場合*  
エラーの原因の大半が入力ミスです。  
* 全角入力されている  
* メールアドレス又はパスワードが間違っている  
* 両方とも違う  
* そもそもアカウントが存在しない  
上記を確認してください。  
  
# ライセンス/注意事項
このプラグインはNewDelion氏が制作したLobiAPIを利用しています。  
尚LobiAPlは下記URLからダウンロードできます(GitHubにて公開されています。)  
https://github.com/NewDelion/LobiAPI-PHP  
このプラグインの改変はOKですが二次配布はお止め下さい。  
不具合.意見・感想はTwitter@ikatyo0702までお願いします。  
皆さんのご意見は出来るだけプラグインへ反映させて頂きます。  
